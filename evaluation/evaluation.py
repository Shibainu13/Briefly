from bart_score import BARTScorer
import warnings
warnings.filterwarnings("ignore", category=FutureWarning)

with open("data/Solenoid.txt", "r") as f:
    src_text = f.read().splitlines()
    

# Count the number of words in the source
word_count = 0
for line in src_text:
    word_count += len(line.split())
print(word_count)

# src_text = ["""A solenoid is a type of electromagnet formed by a helical coil of wire whose length is substantially greater than its diameter, which generates a controlled magnetic field. The coil can produce a uniform magnetic field in a volume of space when an electric current is passed through it. Andr-Marie Ampre coined the term solenoid in 1823, having conceived of the device in 1820. The French term originally created by Ampre is solnode, which is a French transliteration of the Greek word which means tubular. The helical coil of a solenoid does not necessarily need to revolve around a straight-line axis for example, William Sturgeon's electromagnet of 1824 consisted of a solenoid bent into a horseshoe shape similarly to an arc spring. Solenoids provide magnetic focusing of electrons in vacuums, notably in television camera tubes such as vidicons and image orthicons. Electrons take helical paths within the magnetic field. These solenoids, focus coils, surround nearly the whole length of the tube. Physics Infinite continuous solenoid An infinite solenoid has infinite length but finite diameter. "Continuous" means that the solenoid is not formed by discrete finite-width coils but by many infinitely thin coils with no space between them in this abstraction, the solenoid is often viewed as a cylindrical sheet of conductive material. The magnetic field inside an infinitely long solenoid is homogeneous and its strength neither depends on the distance from the axis nor on the solenoid's cross-sectional area. This is a derivation of the magnetic flux density around a solenoid that is long enough so that fringe effects can be ignored. In Figure 1, we immediately know that the flux density vector points in the positive direction inside the solenoid, and in the negative direction outside the solenoid. We confirm this by applying the right hand grip rule for the field around a wire. If we wrap our right hand around a wire with the thumb pointing in the direction of the current, the curl of the fingers shows how the field behaves. Since we are dealing with a long solenoid, all of the components of the magnetic field not pointing upwards cancel out by symmetry. Outside, a similar cancellation occurs, and the field is only pointing downwards. Now consider the imaginary loop that is located inside the solenoid. By Ampre's law, we know that the line integral of the magnetic flux density vector around this loop is zero, since it encloses no electrical currents it can be also assumed that the circuital electric field passing through the loop is constant under such conditions a constant or constantly changing current through the solenoid. We have shown above that the field is pointing upwards inside the solenoid, so the horizontal portions of loop do not contribute anything to the integral. Thus the integral of the up side is equal to the integral of the down side 2. Since we can arbitrarily change the dimensions of the loop and get the same result, the only physical explanation is that the integrands are actually equal, that is, the magnetic field inside the solenoid is radially uniform. Note, though, that nothing prohibits it from varying longitudinally, which in fact, it does. A similar argument can be applied to the loop a to conclude that the field outside the solenoid is radially uniform or constant. This last result, which holds strictly true only near the center of the solenoid where the field lines are parallel to its length, is important as it shows that the flux density outside is practically zero since the radii of the field outside the solenoid will tend to infinity. An intuitive argument can also be used to show that the flux density outside the solenoid is actually zero. Magnetic field lines only exist as loops, they cannot diverge from or converge to a point like electric field lines can see Gauss's law for magnetism. The magnetic field lines follow the longitudinal path of the solenoid inside, so they must go in the opposite direction outside of the solenoid so that the lines can form loops. However, the volume outside the solenoid is much greater than the volume inside, so the density of magnetic field lines outside is greatly reduced. Now recall that the field outside is constant. In order for the total number of field lines to be conserved, the field outside must go to zero as the solenoid gets longer. Of course, if the solenoid is constructed as a wire spiral as often done in practice, then it emanates an outside field the same way as a single wire, due to the current flowing overall down the length of the solenoid. Applying Ampre's circuital law to the solenoid see figure on the right gives us I where is the magnetic flux density, is the length of the solenoid, is the magnetic constant, the number of turns, and I the current. From this we get I This equation is valid for a solenoid in free space, which means the permeability of the magnetic path is the same as permeability of free space, 0. If the solenoid is immersed in a material with relative permeability r, then the field is increased by that amount I In most solenoids, the solenoid is not immersed in a higher permeability material, but rather some portion of the space around the solenoid has the higher permeability material and some is just air which behaves much like free space. In that scenario, the full effect of the high permeability material is not seen, but there will be an effective or apparent permeability eff such that eff r. The inclusion of a ferromagnetic core, such as iron, increases the magnitude of the magnetic flux density in the solenoid and raises the effective permeability of the magnetic path. This is expressed by the formula I I where eff is the effective or apparent permeability of the core. The effective permeability is a function of the geometric properties of the core and its relative permeability. The terms relative permeability a property of just the material and effective permeability a property of the whole structure are often confused they can differ by many orders of magnitude. For an open magnetic structure, the relationship between the effective permeability and relative permeability is given as follows where is the demagnetization factor of the core. Finite continuous solenoid A finite solenoid is a solenoid with finite length. Continuous means that the solenoid is not formed by discrete coils but by a sheet of conductive material. We assume the current is uniformly distributed on the surface of the solenoid, with a surface current density in cylindrical coordinates I The magnetic field can be found using the vector potential, which for a finite solenoid with radius and length in cylindrical coordinates is A I Where sin sin sin sin Here, and are complete elliptic integrals of the first, second, and third kind. Using A The magnetic flux density is obtained as I I On the symmetry axis, the radial component vanishes, and the axial field component is I Inside the solenoid, far away from the ends this tends towards the constant value I Short solenoid estimate For the case in which the radius is much larger than the length of the solenoid the magnetic flux density through the centre of the solenoid in the direction, parallel to the solenoid's length, where the coil is centered at z0 can be estimated as the flux density of a single circular conductor loop I Irregular solenoids Within the category of finite solenoids, there are those that are sparsely wound with a single pitch, those that are sparsely wound with varying pitches varied-pitch solenoid, and those with varying radii for different loops non-cylindrical solenoids. They are called irregular solenoids. They have found applications in different areas, such as sparsely wound solenoids for wireless power transfer, varied-pitch solenoids for magnetic resonance imaging MRI, and non-cylindrical solenoids for other medical devices. The calculation of the intrinsic inductance and capacitance cannot be done using those for the conventional solenoids, i.e. the tightly wound ones. New calculation methods were proposed for the calculation of intrinsic inductancecodes available at and capacitance. codes available at Inductance As shown above, the magnetic flux density within the coil is practically constant and given by I where is the magnetic constant, the number of turns, I the current and the length of the coil. Ignoring end effects, the total magnetic flux through the coil is obtained by multiplying the flux density by the cross-section area A I A Combining this with the definition of inductance I the inductance of a solenoid follows as A A table of inductance for short solenoids of various diameter to length ratios has been calculated by Dellinger, Whittmore, and Ould. This, and the inductance of more complicated shapes, can be derived from Maxwell's equations. For rigid air-core coils, inductance is a function of coil geometry and number of turns, and is independent of current. Similar analysis applies to a solenoid with a magnetic core, but only if the length of the coil is much greater than the product of the relative permeability of the magnetic core and the diameter. That limits the simple analysis to low-permeability cores, or extremely long thin solenoids. The presence of a core can be taken into account in the above equations by replacing the magnetic constant with or 0r, where represents permeability and relative permeability. Note that since the permeability of ferromagnetic materials changes with applied magnetic flux, the inductance of a coil with a ferromagnetic core will generally vary with current.  """]

# summary_text = ["""A solenoid is a type of electromagnet formed by a helical coil of wire whose length is substantially greater than its diameter, which generates a controlled magnetic field. By Ampre's law, we know that the line integral of the magnetic flux density vector around this loop is zero, since it encloses no electrical currents it can be also assumed that the circuital electric field passing through the loop is constant under such conditions a constant or constantly changing current through the solenoid. We have shown above that the field is pointing upwards inside the solenoid, so the horizontal portions of loop do not contribute anything to the integral. A similar argument can be applied to the loop a to conclude that the field outside the solenoid is radially uniform or constant. This last result, which holds strictly true only near the center of the solenoid where the field lines are parallel to its length, is important as it shows that the flux density outside is practically zero since the radii of the field outside the solenoid will tend to infinity. Applying Ampre's circuital law to the solenoid see figure on the right gives us I where is the magnetic flux density, is the length of the solenoid, is the magnetic constant, the number of turns, and I the current. If the solenoid is immersed in a material with relative permeability r, then the field is increased by that amount I In most solenoids, the solenoid is not immersed in a higher permeability material, but rather some portion of the space around the solenoid has the higher permeability material and some is just air which behaves much like free space. Continuous means that the solenoid is not formed by discrete coils but by a sheet of conductive material. Using A The magnetic flux density is obtained as I I On the symmetry axis, the radial component vanishes, and the axial field component is I Inside the solenoid, far away from the ends this tends towards the constant value I Short solenoid estimate For the case in which the radius is much larger than the length of the solenoid the magnetic flux density through the centre of the solenoid in the direction, parallel to the solenoid's length, where the coil is centered at z0 can be estimated as the flux density of a single circular conductor loop I Irregular solenoids Within the category of finite solenoids, there are those that are sparsely wound with a single pitch, those that are sparsely wound with varying pitches varied-pitch solenoid, and those with varying radii for different loops non-cylindrical solenoids. codes available at Inductance As shown above, the magnetic flux density within the coil is practically constant and given by I where is the magnetic constant, the number of turns, I the current and the length of the coil. Ignoring end effects, the total magnetic flux through the coil is obtained by multiplying the flux density by the cross-section area A I A Combining this with the definition of inductance I the inductance of a solenoid follows as A A table of inductance for short solenoids of various diameter to length ratios has been calculated by Dellinger, Whittmore, and Ould. Similar analysis applies to a solenoid with a magnetic core, but only if the length of the coil is much greater than the product of the relative permeability of the magnetic core and the diameter"""]
# bart_scorer = BARTScorer(device='cuda:0', checkpoint='facebook/bart-large-cnn')
# bart_scorer.load(path='bart_score.pth')
# score = bart_scorer.score(src_text, summary_text, batch_size=4)
# print(score)